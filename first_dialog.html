<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .card { border-radius: 15px; box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
        .table th { background-color: #e9ecef; font-weight: 600; }
        
        .error-text { color: #dc3545; font-size: 0.875rem; margin-top: 5px; }
        .is-invalid { border-color: #dc3545 !important; }
    </style>
</head>
<body class="bg-light">
 
<div class="container mt-5">
    
       
            <h2 class="mb-4">User List</h2>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Username</th>
                            <th>Fullname</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody">
                        
                    </tbody>
                </table>
            </div>
 
            
            <div class="mt-4">
                <button type="button" class="btn btn-primary btn-new-user" id="openNewUserModal">
                    New User
                </button>
            </div>

   
</div>
 
<div class="modal fade" id="newUserModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="newUserForm">
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Username</label>
                        <input type="text" id="modalUsername" class="form-control" placeholder="Enter username">
                        <div class="error-text" id="usernameError"></div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Fullname</label>
                        <input type="text" id="modalFullname" class="form-control" placeholder="Enter full name">
                        <div class="error-text" id="fullnameError"></div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Email</label>
                        <input type="email" id="modalEmail" class="form-control" placeholder="example@domain.com">
                        <div class="error-text" id="emailError"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="addUserBtn">Add User</button>
            </div>
        </div>
    </div>
</div>
 
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
 
<script>
const users = [];
const tbody = document.getElementById('userTableBody');
const modal = new bootstrap.Modal(document.getElementById('newUserModal'));
 
document.getElementById('openNewUserModal').addEventListener('click', () => {
    document.getElementById('newUserForm').reset();
    document.querySelectorAll('.is-invalid, .error-text').forEach(el => {
        el.classList.remove('is-invalid');
        if (el.classList.contains('error-text')) el.textContent = '';
    });
    modal.show();
});
 
document.getElementById('addUserBtn').addEventListener('click', () => {
    document.querySelectorAll('.is-invalid, .error-text').forEach(el => {
        el.classList.remove('is-invalid');
        if (el.classList.contains('error-text')) el.textContent = '';
    });
 
    const username = document.getElementById('modalUsername').value.trim();
    const fullname = document.getElementById('modalFullname').value.trim();
    const email    = document.getElementById('modalEmail').value.trim();
    let hasError = false;
 
    if (!username) { document.getElementById('modalUsername').classList.add('is-invalid'); document.getElementById('usernameError').textContent = 'Required'; hasError = true; }
    if (!fullname) { document.getElementById('modalFullname').classList.add('is-invalid'); document.getElementById('fullnameError').textContent = 'Required'; hasError = true; }
    if (!email)    { document.getElementById('modalEmail').classList.add('is-invalid');    document.getElementById('emailError').textContent    = 'Required'; hasError = true; }
    else if (!/^\S+@\S+\.\S+$/.test(email)) {
        document.getElementById('modalEmail').classList.add('is-invalid');
        document.getElementById('emailError').textContent = 'Invalid email';
        hasError = true;
    }
 
    if (hasError) return;
 
    users.push({ username, fullname, email });
    const row = document.createElement('tr');
    row.innerHTML = `<td>${username}</td><td>${fullname}</td><td>${email}</td>`;
    tbody.appendChild(row);
 
    document.getElementById('newUserForm').reset();
    modal.hide();
});
</script>
 
</body>
</html>